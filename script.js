const terms = [['סרוק מוצר', 'отсканируйте товар'], ['שים על המשקל', 'положите на весы'], ['הורד מהמשקל', 'уберите с весов'], ['אשר', 'подтвердите'], ['בטל', 'отмена'], ['שנה', 'изменить'], ['המשך', 'продолжить'], ['סיים', 'завершить'], ['שלם עכשיו', 'оплатите сейчас'], ['אשר תשלום', 'подтвердите оплату'], ['נסה שוב', 'повторите попытку'], ['נא המתן', 'пожалуйста, подождите'], ['קרא לעובד', 'вызовите сотрудника'], ['אנא אל תיגע', 'не прикасайтесь'], ['הוסף פריט', 'добавить товар'], ['הסר פריט', 'удалить товар'], ['אשר שקילה', 'подтвердите взвешивание'], ['שקול מחדש', 'взвесьте заново'], ['סרוק שוב', 'сканируйте заново'], ['הפעל מחדש', 'перезапуск'], ['תשלום', 'оплата'], ['מזומן', 'наличные'], ['כרטיס אשראי', 'кредитная карта'], ['אשראי', 'карта'], ['שלם בכרטיס', 'оплата картой'], ['הכנס כרטיס', 'вставьте карту'], ['המתן לאישור', 'ожидание подтверждения'], ['תשלום נכשל', 'оплата не прошла'], ['לא אושר', 'не подтверждено'], ['קבלה', 'квитанция'], ['מוצר', 'товар'], ['פריט', 'предмет'], ['משקל', 'вес'], ['שקילה', 'взвешивание'], ['שקית', 'пакет'], ['הוסף שקית', 'добавить пакет'], ['ללא שקית', 'без пакета'], ['קוד פרי', 'код фрукта'], ['קוד ירק', 'код овоща'], ['מחיר לק"ג', 'цена за кг'], ['חזור', 'назад'], ['דף ראשי', 'главная страница'], ['עמוד הבא', 'следующая страница'], ['עזרה', 'помощь'], ['שפה', 'язык'], ['עברית', 'иврит'], ['אנגלית', 'английский'], ['רוסית', 'русский'], ['תקלה', 'ошибка'], ['אין זיהוי', 'не распознано'], ['פריט לא זוהה', 'товар не распознан'], ['עודף משקל', 'перевес'], ['חוסר משקל', 'недовес'], ['אין תגובה', 'нет ответа'], ['המוצר נוסף', 'товар добавлен'], ['המוצר הוסר', 'товар удалён'], ['הזיהוי הצליח', 'идентификация успешна'], ['הזיהוי נכשל', 'идентификация не удалась'], ['הנחה', 'скидка'], ['קופון', 'купон'], ['קוד קופון', 'код купона'], ['קוד מועדון', 'код клуба'], ['מועדון לקוחות', 'клуб покупателей'], ['כרטיס מועדון', 'карта клуба'], ['נקודות', 'баллы'], ['זיכוי', 'возврат'], ['יתרת זיכוי', 'остаток возврата'], ['פירות', 'фрукты'], ['ירקות', 'овощи'], ['מאפים', 'выпечка'], ['בשר', 'мясо'], ['דגים', 'рыба'], ['חלב', 'молочные продукты'], ['שתייה', 'напитки'], ['קפואים', 'замороженные'], ['חומרי ניקוי', 'моющие средства'], ['תינוקות', 'товары для младенцев'], ['חטיפים', 'снеки'], ['ממתקים', 'сладости'], ['נא להכניס שטרות', 'пожалуйста, вставьте купюры'], ['נא להכניס מטבעות', 'пожалуйста, вставьте монеты'], ['עודף', 'сдача'], ['קח את העודף', 'заберите сдачу'], ['לא ניתן להחזיר עודף', 'сдача не выдается'], ['נא לא להשתמש בשטר זה', 'пожалуйста, не используйте эту купюру'], ['שטר לא מזוהה', 'купюра не распознана'], ['מטבע לא מזוהה', 'монета не распознана'], ['הכנס סכום מדויק', 'внесите точную сумму'], ['שטר תקוע', 'купюра застряла'], ['שטר הוחזר', 'купюра возвращена'], ['הכנסה חלקית', 'частичная оплата'], ['היתרה לתשלום', 'оставшаяся сумма к оплате']];

let currentTerm = null;

function speakWord() {
  const utterance = new SpeechSynthesisUtterance(currentTerm[0]);
  utterance.lang = "he-IL";
  utterance.rate = 0.9;
  speechSynthesis.speak(utterance);
}

function nextQuestion() {
  document.getElementById("feedback").textContent = "";
  const optionsDiv = document.getElementById("options");
  optionsDiv.innerHTML = "";

  currentTerm = terms[Math.floor(Math.random() * terms.length)];
  const correct = currentTerm[1];
  const options = new Set([correct]);
  while (options.size < 4) {
    options.add(terms[Math.floor(Math.random() * terms.length)][1]);
  }
  const shuffled = Array.from(options).sort(() => Math.random() - 0.5);
  document.getElementById("question").textContent = currentTerm[0];
  speakWord();
  shuffled.forEach(option => {
    const btn = document.createElement("button");
    btn.textContent = option;
    btn.onclick = () => {
      const feedback = document.getElementById("feedback");
      const correctSound = document.getElementById("correct-sound");
      const wrongSound = document.getElementById("wrong-sound");
      if (option === correct) {
        feedback.textContent = "Верно";
        feedback.style.color = "green";
        correctSound.play();
      } else {
        feedback.textContent = `Неверно. Правильный ответ: ${correct}`;
        feedback.style.color = "red";
        wrongSound.play();
      }
      setTimeout(nextQuestion, 1500);
    };
    optionsDiv.appendChild(btn);
  });
}
window.onload = nextQuestion;
